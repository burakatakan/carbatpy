image: python:3.8-slim
test:
  stage: test
  script:
  - pip install -U sphinx
  - sphinx-build -c docs -b html . public
  only:
  - Version_1
  except:
  - main

pages:
  script:
  - pip install -r docs/requirements.txt
  - sphinx-build -c docs -d _build/doctrees . _build/html
  - mv _build/html public
  artifacts:
    paths:
    - public
  only:
  - main
